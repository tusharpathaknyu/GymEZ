<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GymEZ - Complete Fitness App</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background: #f8fafc;
            color: #334155;
            line-height: 1.6;
            min-height: 100vh;
        }
        .app-container {
            max-width: 414px;
            margin: 0 auto;
            background: white;
            min-height: 100vh;
            position: relative;
        }
        .hidden {
            display: none;
        }

        /* Login Screen Styles */
        .login-container {
            padding: 40px 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
        }
        .header-container {
            text-align: center;
            margin-bottom: 40px;
        }
        .title {
            font-size: 36px;
            font-weight: bold;
            color: #f1f5f9;
            margin-bottom: 8px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        .subtitle {
            font-size: 18px;
            color: #cbd5e1;
        }
        .form-container {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.12);
            backdrop-filter: blur(10px);
        }
        .input {
            width: 100%;
            padding: 16px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 16px;
            margin-bottom: 16px;
            transition: border-color 0.2s;
            background: #ffffff;
        }
        .input:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        .user-type-container {
            margin-bottom: 20px;
        }
        .label {
            font-size: 16px;
            font-weight: 600;
            color: #374151;
            margin-bottom: 12px;
        }
        .user-type-buttons {
            display: flex;
            gap: 12px;
        }
        .user-type-button {
            flex: 1;
            padding: 16px;
            border: 2px solid #E5E7EB;
            border-radius: 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
            background: white;
        }
        .user-type-button.selected {
            border-color: #3b82f6;
            background: #dbeafe;
        }
        .user-type-text {
            font-size: 14px;
            font-weight: 600;
            color: #64748b;
        }
        .user-type-button.selected .user-type-text {
            color: #3b82f6;
        }
        .action-button {
            width: 100%;
            padding: 16px;
            background: #3b82f6;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            margin-bottom: 16px;
            transition: all 0.2s;
            box-shadow: 0 2px 4px rgba(59, 130, 246, 0.2);
        }
        .action-button:hover {
            background: #2563eb;
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(59, 130, 246, 0.3);
        }
        .action-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .link-button {
            background: none;
            border: none;
            color: #cbd5e1;
            cursor: pointer;
            font-size: 14px;
            text-decoration: underline;
        }

        /* Dashboard Styles */
        .dashboard {
            min-height: 100vh;
            background: #ffffff;
            position: relative;
        }
        .app-header {
            padding: 20px;
            padding-top: 60px;
            background: #ffffff;
            border-bottom: 1px solid #f1f5f9;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .menu-button, .back-button {
            background: none;
            border: none;
            font-size: 18px;
            cursor: pointer;
            padding: 8px;
            border-radius: 6px;
        }
        .menu-button:hover, .back-button:hover {
            background: #f8fafc;
        }
        .app-header h3 {
            flex: 1;
            font-size: 20px;
            font-weight: 600;
            color: #1f2937;
        }
        .today-date {
            font-size: 12px;
            color: #6b7280;
        }
        
        /* Side Menu */
        .side-menu {
            position: fixed;
            top: 0;
            left: 0;
            width: 280px;
            height: 100vh;
            background: #1e293b;
            z-index: 1000;
            transform: translateX(-100%);
            transition: transform 0.3s ease;
        }
        .side-menu.show {
            transform: translateX(0);
        }
        .menu-header {
            padding: 20px;
            border-bottom: 1px solid #334155;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .menu-header h4 {
            color: #f1f5f9;
            font-size: 18px;
            font-weight: 600;
        }
        .close-menu {
            background: none;
            border: none;
            color: #f1f5f9;
            font-size: 20px;
            cursor: pointer;
        }
        .menu-items {
            padding: 20px 0;
        }
        .menu-item {
            padding: 16px 20px;
            color: #cbd5e1;
            cursor: pointer;
            border-left: 3px solid transparent;
        }
        .menu-item:hover {
            background: #334155;
            color: #f1f5f9;
        }
        .menu-item.active {
            background: #334155;
            color: #f1f5f9;
            border-left-color: #3b82f6;
        }
        .menu-item.logout {
            margin-top: 20px;
            color: #ef4444 !important;
            border-top: 1px solid #334155;
        }
        .menu-item.logout:hover {
            background: #dc2626 !important;
            color: white !important;
        }
        
        /* Content Views */
        .content-view {
            padding: 20px;
        }
        .content-view.hidden {
            display: none;
        }
        .main-content {
            padding: 10px 20px 20px 20px;
        }
        
        /* Workout Card */
        .workout-card {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }
        .card-header h4 {
            font-size: 18px;
            font-weight: 600;
            color: #1f2937;
        }
        .time {
            font-size: 14px;
            color: #6b7280;
        }
        .workout-preview {
            margin-bottom: 16px;
        }
        .exercise-item {
            padding: 8px 0;
            font-size: 14px;
            color: #4b5563;
            border-bottom: 1px solid #f1f5f9;
        }
        .exercise-item:last-child {
            border-bottom: none;
        }
        .start-button {
            width: 100%;
            padding: 12px;
            background: #3b82f6;
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
        }
        
        /* Quick Actions */
        .quick-actions {
            display: flex;
            gap: 12px;
            margin-bottom: 20px;
        }
        .action-item {
            flex: 1;
            padding: 16px 12px;
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
        }
        .action-item:hover {
            background: #f8fafc;
            border-color: #3b82f6;
        }
        .action-text {
            font-size: 14px;
            font-weight: 500;
            color: #374151;
            text-align: center;
        }
        
        /* Activity Section */
        .activity-section {
            margin-bottom: 20px;
        }
        .activity-section h5 {
            font-size: 16px;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 12px;
        }
        .activity-item {
            display: flex;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid #f1f5f9;
        }
        .activity-item:last-child {
            border-bottom: none;
        }
        .activity-details {
            flex: 1;
        }
        .activity-name {
            font-size: 14px;
            font-weight: 500;
            color: #1f2937;
        }
        .activity-time {
            font-size: 12px;
            color: #6b7280;
        }
        
        /* Progress Tab */
        .progress-summary {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }
        .summary-item {
            flex: 1;
            text-align: center;
            padding: 20px;
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
        }
        .summary-number {
            font-size: 28px;
            font-weight: bold;
            color: #3b82f6;
        }
        .summary-label {
            font-size: 12px;
            color: #6b7280;
            margin-top: 4px;
        }
        
        /* Profile Styles */
        .profile-card {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }
        .profile-info {
            text-align: center;
        }
        .profile-name {
            font-size: 20px;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 4px;
        }
        .profile-email {
            font-size: 14px;
            color: #6b7280;
            margin-bottom: 8px;
        }
        .profile-gym {
            font-size: 14px;
            color: #3b82f6;
            font-weight: 500;
        }
        .profile-actions {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        /* Settings Styles */
        .settings-section {
            margin-bottom: 30px;
        }
        .settings-section h5 {
            font-size: 14px;
            font-weight: 600;
            color: #6b7280;
            text-transform: uppercase;
            margin-bottom: 12px;
            letter-spacing: 0.5px;
        }
        .settings-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px 0;
            border-bottom: 1px solid #f1f5f9;
            cursor: pointer;
        }
        .settings-item:last-child {
            border-bottom: none;
        }
        .settings-item:hover {
            background: #f8fafc;
            margin: 0 -20px;
            padding-left: 20px;
            padding-right: 20px;
        }
        .settings-item.danger {
            color: #ef4444;
        }
        .settings-item .arrow {
            color: #9ca3af;
        }
        .settings-item .value {
            color: #6b7280;
            font-size: 14px;
        }
        .settings-item .toggle {
            color: #10b981;
            font-size: 14px;
            font-weight: 600;
        }
        
        /* PR Styles */
        .pr-section {
            margin-bottom: 30px;
        }
        .pr-section h5 {
            font-size: 16px;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 12px;
        }
        .pr-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px;
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            margin-bottom: 8px;
            cursor: pointer;
        }
        .pr-item:hover {
            border-color: #3b82f6;
            background: #f8fafc;
        }
        .pr-info {
            flex: 1;
        }
        .pr-exercise {
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 4px;
        }
        .pr-status {
            font-size: 12px;
            color: #10b981;
        }
        .pr-details {
            text-align: right;
        }
        .pr-weight {
            font-size: 16px;
            font-weight: bold;
            color: #3b82f6;
        }
        .pr-date {
            font-size: 12px;
            color: #6b7280;
        }
        
        /* Owner Dashboard */
        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-bottom: 20px;
        }
        .stat-card {
            background: #f8fafc;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            border: 1px solid #e2e8f0;
        }
        .stat-card .stat-number {
            font-size: 20px;
            font-weight: bold;
            color: #1f2937;
        }
        .stat-card .stat-label {
            font-size: 12px;
            color: #6b7280;
            margin-top: 4px;
        }
        
        /* PR Approval Styles */
        .approval-item {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 12px;
        }
        .approval-info {
            margin-bottom: 12px;
        }
        .member-name {
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 4px;
        }
        .pr-claim {
            color: #4b5563;
            margin-bottom: 4px;
        }
        .submission-time {
            font-size: 12px;
            color: #6b7280;
        }
        .approval-actions {
            display: flex;
            gap: 8px;
        }
        .approve-btn {
            flex: 1;
            padding: 8px 16px;
            background: #10b981;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            cursor: pointer;
        }
        .reject-btn {
            flex: 1;
            padding: 8px 16px;
            background: #ef4444;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            cursor: pointer;
        }
        
        /* Overlay */
        .menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 999;
            display: none;
        }
        .menu-overlay.show {
            display: block;
        }
        .content-section {
            padding: 20px;
        }
        .section-title {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 16px;
            color: #1f2937;
        }
        .feature-card {
            background: white;
            padding: 20px;
            margin-bottom: 16px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: transform 0.2s;
        }
        .feature-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        .feature-title {
            font-size: 18px;
            font-weight: bold;
            color: #1f2937;
            margin-bottom: 8px;
        }
        .feature-description {
            font-size: 14px;
            color: #6B7280;
        }

        /* PR Dashboard Styles */
        .pr-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px;
            background: white;
            border-radius: 8px;
            margin-bottom: 12px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .pr-exercise {
            font-weight: 600;
            color: #1f2937;
        }
        .pr-details {
            text-align: right;
        }
        .pr-weight {
            font-size: 18px;
            font-weight: bold;
            color: #3b82f6;
        }
        .pr-date {
            font-size: 12px;
            color: #6B7280;
        }

        /* Gym Selection Styles */
        .gym-selection {
            padding: 20px;
        }
        .gym-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 16px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            cursor: pointer;
        }
        .gym-name {
            font-size: 18px;
            font-weight: bold;
            color: #1f2937;
            margin-bottom: 8px;
        }
        .gym-address {
            font-size: 14px;
            color: #6B7280;
            margin-bottom: 8px;
        }
        .gym-info {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
        }
        .member-count {
            color: #10B981;
            font-weight: 500;
        }
        .gym-cost {
            color: #dc2626;
            font-weight: 500;
        }

        /* Bottom Navigation */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            width: 100%;
            max-width: 414px;
            background: white;
            display: flex;
            border-top: 1px solid #e9ecef;
            left: 50%;
            transform: translateX(-50%);
        }
        .nav-item {
            flex: 1;
            padding: 12px;
            text-align: center;
            cursor: pointer;
            transition: background 0.2s;
        }
        .nav-item:hover, .nav-item.active {
            background: #f3f4f6;
        }
        .nav-label {
            font-size: 12px;
            color: #6B7280;
            font-weight: 500;
        }
        .nav-item.active .nav-label {
            color: #3b82f6;
        }

        /* Owner Dashboard Styles */
        .video-item {
            background: white;
            padding: 16px;
            border-radius: 8px;
            margin-bottom: 12px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .video-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 8px;
        }
        .video-title {
            font-weight: bold;
            color: #1f2937;
        }
        .status-badge {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: bold;
        }
        .status-pending {
            background: #fbbf24;
            color: #92400e;
        }
        .status-approved {
            background: #10b981;
            color: white;
        }
        .video-member {
            font-size: 14px;
            color: #2563eb;
            font-weight: 600;
        }

        /* Loading Spinner */
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 200px;
        }
        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid #f3f4f6;
            border-top: 4px solid #4F46E5;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Social Feed Styles */
        .create-post {
            margin-bottom: 20px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .create-post textarea {
            width: 100%;
            min-height: 80px;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            padding: 10px;
            margin-bottom: 10px;
            resize: vertical;
            font-family: inherit;
        }
        .social-post {
            background: white;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .post-header {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }
        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-right: 10px;
        }
        .post-info .username {
            font-weight: 600;
            color: #1e293b;
        }
        .post-info .post-time {
            font-size: 12px;
            color: #64748b;
        }
        .post-actions {
            display: flex;
            gap: 15px;
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px solid #e2e8f0;
        }
        .post-action {
            background: none;
            border: none;
            color: #64748b;
            cursor: pointer;
            font-size: 14px;
            padding: 5px 10px;
            border-radius: 4px;
            transition: background-color 0.2s;
        }
        .post-action:hover {
            background: #f8fafc;
        }
        
        /* Workout Styles */
        .workout-filters {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            overflow-x: auto;
        }
        .filter-btn {
            padding: 8px 16px;
            border: 1px solid #e2e8f0;
            background: white;
            border-radius: 20px;
            cursor: pointer;
            white-space: nowrap;
            font-size: 14px;
            transition: all 0.2s;
        }
        .filter-btn.active {
            background: #3b82f6;
            color: white;
            border-color: #3b82f6;
        }
        .workout-card {
            background: white;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .workout-card h4 {
            margin-bottom: 5px;
            color: #1e293b;
        }
        .workout-stats {
            margin: 10px 0;
            padding: 8px 12px;
            background: #f8fafc;
            border-radius: 6px;
            font-size: 14px;
            color: #64748b;
        }
        
        /* Challenge Styles */
        .challenge-card {
            background: white;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .challenge-card.available {
            border: 2px dashed #3b82f6;
            background: #f8fafc;
        }
        .challenge-progress {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 10px 0;
        }
        .progress-bar {
            flex: 1;
            height: 8px;
            background: #e2e8f0;
            border-radius: 4px;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #3b82f6, #06b6d4);
            transition: width 0.3s ease;
        }
        .available-challenges {
            margin-top: 30px;
        }
        .available-challenges h4 {
            margin-bottom: 15px;
            color: #1e293b;
        }
        
        /* Leaderboard Styles */
        .leaderboard-filters {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        .leaderboard-item {
            display: flex;
            align-items: center;
            background: white;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .rank {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
            background: #e2e8f0;
            color: #64748b;
        }
        .rank.gold {
            background: linear-gradient(135deg, #fbbf24, #f59e0b);
            color: white;
        }
        .rank.silver {
            background: linear-gradient(135deg, #e5e7eb, #d1d5db);
            color: #374151;
        }
        .rank.bronze {
            background: linear-gradient(135deg, #f97316, #ea580c);
            color: white;
        }
        .user-info {
            flex: 1;
        }
        .user-info .username {
            font-weight: 600;
            color: #1e293b;
        }
        .user-info .user-stats {
            font-size: 14px;
            color: #64748b;
        }
        .crown {
            font-size: 20px;
        }
        
        /* Camera Modal Styles */
        .camera-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 2000;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .camera-container {
            background: white;
            width: 90%;
            max-width: 400px;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }
        .camera-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            background: linear-gradient(135deg, #4F46E5 0%, #10B981 100%);
            color: white;
        }
        .camera-header h3 {
            margin: 0;
            font-size: 18px;
        }
        .close-camera, .camera-switch {
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .camera-switch {
            font-size: 20px;
        }
        .camera-content {
            position: relative;
            background: #000;
        }
        #cameraPreview {
            width: 100%;
            height: 250px;
            object-fit: cover;
            background: #000;
        }
        .camera-controls {
            padding: 20px;
            background: #f8f9fa;
        }
        .exercise-selector, .weight-input {
            margin-bottom: 15px;
        }
        .exercise-selector select, .weight-input input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 16px;
            background: white;
        }
        .exercise-selector select:focus, .weight-input input:focus {
            outline: none;
            border-color: #4F46E5;
        }
        .recording-controls {
            text-align: center;
            margin-bottom: 15px;
        }
        .record-button {
            padding: 15px 30px;
            background: #dc2626;
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(220, 38, 38, 0.3);
            transition: all 0.2s;
        }
        .record-button:hover {
            background: #b91c1c;
            transform: translateY(-2px);
        }
        .record-button.stop-button {
            background: #059669;
        }
        .record-button.stop-button:hover {
            background: #047857;
        }
        .timer-display {
            text-align: center;
            font-size: 18px;
            font-weight: 600;
            color: #dc2626;
            background: white;
            padding: 10px;
            border-radius: 8px;
            border: 2px solid #dc2626;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Login Screen -->
        <div id="loginScreen" class="view">
            <div class="login-container">
                <div class="header-container">
                    <h1 class="title">GymEZ</h1>
                    <p class="subtitle" id="loginSubtitle">Welcome Back</p>
                </div>
                
                <div class="form-container">
                    <div id="signupFields" class="hidden">
                        <input type="text" class="input" id="fullName" placeholder="Full Name">
                        
                        <div class="user-type-container">
                            <div class="label">Country:</div>
                            <select class="input" id="country">
                                <option value="">Select Country</option>
                                <option value="IN">India</option>
                                <option value="US">United States</option>
                                <option value="UK">United Kingdom</option>
                                <option value="CA">Canada</option>
                                <option value="AU">Australia</option>
                                <option value="DE">Germany</option>
                                <option value="FR">France</option>
                                <option value="JP">Japan</option>
                                <option value="SG">Singapore</option>
                                <option value="AE">UAE</option>
                            </select>
                        </div>
                        
                        <div class="user-type-container">
                            <div class="label">I am a:</div>
                            <div class="user-type-buttons">
                                <div class="user-type-button" id="memberBtn" onclick="selectUserType('member')">
                                    <div class="user-type-text">Gym Member</div>
                                </div>
                                <div class="user-type-button" id="ownerBtn" onclick="selectUserType('owner')">
                                    <div class="user-type-text">Gym Owner</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <input type="email" class="input" id="email" placeholder="Email Address">
                    <input type="password" class="input" id="password" placeholder="Password">
                    <input type="password" class="input hidden" id="confirmPassword" placeholder="Confirm Password">
                    
                    <button class="action-button" id="authButton" onclick="handleAuth()">Log In</button>
                    
                    <div id="googleSignInContainer" class="hidden">
                        <div style="text-align: center; margin: 20px 0; color: #6B7280;">OR</div>
                        <button class="action-button" style="background: #4285f4;" onclick="handleGoogleSignIn()">Continue with Google</button>
                    </div>
                    
                    <button class="link-button" onclick="toggleAuthMode()">
                        <span id="toggleText">Don't have an account? Sign Up</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Gym Selection Screen -->
        <div id="gymSelection" class="view hidden">
            <div class="dashboard-header">
                <h2 class="welcome-title">Choose Your Gym</h2>
                <p class="welcome-subtitle">Select your gym to get started with GymEZ</p>
            </div>
            
            <div class="gym-selection">
                <input type="text" class="input" id="pincodeInput" placeholder="Enter pincode/zipcode (e.g., 400001 for India, 10001 for US)">
                <button class="action-button" onclick="searchGyms()">Search Gyms</button>
                
                <div id="gymsList">
                    <!-- Gym cards will be populated here -->
                </div>
            </div>
        </div>

        <!-- Member Dashboard -->
        <div id="memberDashboard" class="view dashboard hidden">
            <!-- Header with Menu -->
            <div class="app-header">
                <button class="menu-button" onclick="toggleSideMenu()">‚ò∞</button>
                <h3 id="memberName">Hello, User</h3>
                <div class="today-date">Today ‚Ä¢ October 26</div>
            </div>
            
            <!-- Side Menu -->
            <div id="sideMenu" class="side-menu">
                <div class="menu-header">
                    <h4>GymEZ</h4>
                    <button class="close-menu" onclick="toggleSideMenu()">‚úï</button>
                </div>
                <div class="menu-items">
                    <div class="menu-item active" onclick="showHomeView()">üè† Home</div>
                    <div class="menu-item" onclick="showProgressView()">üìä Progress</div>
                    <div class="menu-item" onclick="showWorkoutsView()">üí™ Workouts</div>
                    <div class="menu-item" onclick="showSocialView()">üë• Social</div>
                    <div class="menu-item" onclick="showChallengesView()">üèÜ Challenges</div>
                    <div class="menu-item" onclick="showLeaderboardView()">ü•á Leaderboard</div>
                    <div class="menu-item" onclick="showSettingsView()">‚öôÔ∏è Settings</div>
                    <div class="menu-item logout" onclick="logout()">üö™ Logout</div>
                </div>
            </div>
            
            <!-- Main Content Area -->
            <div class="main-content">
                <div id="homeView" class="content-view">
                    <!-- Today's Workout Card -->
                    <div class="workout-card">
                        <div class="card-header">
                            <h4>Today's Workout</h4>
                            <span class="time">45 min</span>
                        </div>
                        <div class="workout-preview">
                            <div class="exercise-item">Push-ups ‚Ä¢ 3 sets</div>
                            <div class="exercise-item">Squats ‚Ä¢ 3 sets</div>
                            <div class="exercise-item">Planks ‚Ä¢ 60 sec</div>
                        </div>
                        <button class="start-button" onclick="showWorkoutTimer()">Start Workout</button>
                    </div>
                    
                    <!-- Quick Actions -->
                    <div class="quick-actions">
                        <div class="action-item" onclick="showWorkoutBuilder()">
                            <div class="action-text">Build Routine</div>
                        </div>
                        <div class="action-item" onclick="showRecordVideo()">
                            <div class="action-text">üìπ Record Form</div>
                        </div>
                    </div>
                    
                    <!-- Recent Activity -->
                    <div class="activity-section">
                        <h5>Recent Activity</h5>
                        <div class="activity-item">
                            <div class="activity-details">
                                <div class="activity-name">Upper Body Workout</div>
                                <div class="activity-time">2 days ago ‚Ä¢ 38 min</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Progress View -->
                <div id="progressView" class="content-view hidden">
                    <div class="progress-summary">
                        <div class="summary-item">
                            <div class="summary-number">12</div>
                            <div class="summary-label">Workouts this month</div>
                        </div>
                        <div class="summary-item">
                            <div class="summary-number">8</div>
                            <div class="summary-label">Personal records</div>
                        </div>
                    </div>
                </div>
                
                <!-- Settings View -->
                <div id="settingsView" class="content-view hidden">
                    <div class="settings-section">
                        <h5>Account</h5>
                        <div class="settings-item" onclick="editProfile()">
                            <span>Edit Profile</span>
                            <span class="arrow">></span>
                        </div>
                        <div class="settings-item" onclick="changePassword()">
                            <span>Change Password</span>
                            <span class="arrow">></span>
                        </div>
                    </div>
                    
                    <div class="settings-section">
                        <h5>Preferences</h5>
                        <div class="settings-item" onclick="toggleNotifications()">
                            <span>Push Notifications</span>
                            <span class="toggle">ON</span>
                        </div>
                        <div class="settings-item" onclick="setUnits()">
                            <span>Units</span>
                            <span class="value">Metric (kg/cm)</span>
                        </div>
                        <div class="settings-item" onclick="setRestTime()">
                            <span>Default Rest Time</span>
                            <span class="value">60 seconds</span>
                        </div>
                    </div>
                    
                    <div class="settings-section">
                        <h5>Privacy</h5>
                        <div class="settings-item" onclick="privacySettings()">
                            <span>Privacy Settings</span>
                            <span class="arrow">></span>
                        </div>
                        <div class="settings-item" onclick="dataExport()">
                            <span>Export Data</span>
                            <span class="arrow">></span>
                        </div>
                    </div>
                    
                    <div class="settings-section">
                        <h5>Support</h5>
                        <div class="settings-item" onclick="contactSupport()">
                            <span>Contact Support</span>
                            <span class="arrow">></span>
                        </div>
                        <div class="settings-item" onclick="reportBug()">
                            <span>Report Bug</span>
                            <span class="arrow">></span>
                        </div>
                    </div>
                    
                    <div class="settings-section">
                        <div class="settings-item danger" onclick="logout()">
                            <span>Sign Out</span>
                        </div>
                        <div class="settings-item danger" onclick="deleteAccount()">
                            <span>Delete Account</span>
                        </div>
                    </div>
                </div>
                
                <!-- Social View -->
                <div id="socialView" class="content-view hidden">
                    <h3>Social Feed</h3>
                    <div class="create-post">
                        <textarea placeholder="Share your workout thoughts..." id="postContent"></textarea>
                        <button class="action-button" onclick="createPost()">Post</button>
                    </div>
                    <div id="socialFeed">
                        <div class="social-post">
                            <div class="post-header">
                                <img src="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23e2e8f0'%3e%3cpath d='M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 7C14.5 7 14 7.2 13.6 7.6L12 9.2L10.4 7.6C10 7.2 9.5 7 9 7L3 7V9L8.8 9L12 12.2L15.2 9H21Z'/%3e%3c/svg%3e" class="user-avatar" alt="Avatar">
                                <div class="post-info">
                                    <div class="username">John Smith</div>
                                    <div class="post-time">2 hours ago</div>
                                </div>
                            </div>
                            <p>Just finished my best leg day ever! üí™ New squat PR: 315lbs!</p>
                            <div class="post-actions">
                                <button class="post-action" onclick="likePost(this)">‚ù§Ô∏è 12</button>
                                <button class="post-action" onclick="commentPost(this)">üí¨ 3</button>
                            </div>
                        </div>
                        <div class="social-post">
                            <div class="post-header">
                                <img src="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23e2e8f0'%3e%3cpath d='M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 7C14.5 7 14 7.2 13.6 7.6L12 9.2L10.4 7.6C10 7.2 9.5 7 9 7L3 7V9L8.8 9L12 12.2L15.2 9H21Z'/%3e%3c/svg%3e" class="user-avatar" alt="Avatar">
                                <div class="post-info">
                                    <div class="username">Sarah Wilson</div>
                                    <div class="post-time">4 hours ago</div>
                                </div>
                            </div>
                            <p>Morning cardio session done! ‚úÖ 5K run in 22:30. Feeling great!</p>
                            <div class="post-actions">
                                <button class="post-action" onclick="likePost(this)">‚ù§Ô∏è 8</button>
                                <button class="post-action" onclick="commentPost(this)">üí¨ 1</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Workouts View -->
                <div id="workoutsView" class="content-view hidden">
                    <h3>My Workouts</h3>
                    <div class="workout-filters">
                        <button class="filter-btn active" onclick="filterWorkouts('all')">All</button>
                        <button class="filter-btn" onclick="filterWorkouts('strength')">Strength</button>
                        <button class="filter-btn" onclick="filterWorkouts('cardio')">Cardio</button>
                        <button class="filter-btn" onclick="filterWorkouts('flexibility')">Flexibility</button>
                    </div>
                    <div class="workout-list">
                        <div class="workout-card">
                            <h4>Upper Body Strength</h4>
                            <p>45 minutes ‚Ä¢ 8 exercises</p>
                            <div class="workout-stats">
                                <span>üí™ Bench Press, Pull-ups, Rows</span>
                            </div>
                            <button class="action-button" onclick="startWorkout('upper-body')">Start Workout</button>
                        </div>
                        <div class="workout-card">
                            <h4>HIIT Cardio Blast</h4>
                            <p>30 minutes ‚Ä¢ 6 exercises</p>
                            <div class="workout-stats">
                                <span>üî• Burpees, Mountain Climbers, Sprints</span>
                            </div>
                            <button class="action-button" onclick="startWorkout('hiit-cardio')">Start Workout</button>
                        </div>
                        <div class="workout-card">
                            <h4>Leg Day Power</h4>
                            <p>50 minutes ‚Ä¢ 10 exercises</p>
                            <div class="workout-stats">
                                <span>ü¶µ Squats, Deadlifts, Lunges</span>
                            </div>
                            <button class="action-button" onclick="startWorkout('leg-day')">Start Workout</button>
                        </div>
                    </div>
                </div>
                
                <!-- Challenges View -->
                <div id="challengesView" class="content-view hidden">
                    <h3>Active Challenges</h3>
                    <div class="challenge-list">
                        <div class="challenge-card">
                            <h4>üèÜ 30-Day Push-Up Challenge</h4>
                            <div class="challenge-progress">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 60%;"></div>
                                </div>
                                <span>Day 18/30</span>
                            </div>
                            <p>Today's Goal: 45 push-ups</p>
                            <button class="action-button" onclick="logChallenge('pushup')">Log Progress</button>
                        </div>
                        <div class="challenge-card">
                            <h4>üöÄ Plank Master</h4>
                            <div class="challenge-progress">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 40%;"></div>
                                </div>
                                <span>Day 12/30</span>
                            </div>
                            <p>Today's Goal: Hold plank for 2 minutes</p>
                            <button class="action-button" onclick="logChallenge('plank')">Log Progress</button>
                        </div>
                        <div class="challenge-card">
                            <h4>üí™ Weekly Squat Challenge</h4>
                            <div class="challenge-progress">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 85%;"></div>
                                </div>
                                <span>Day 6/7</span>
                            </div>
                            <p>Today's Goal: 100 squats</p>
                            <button class="action-button" onclick="logChallenge('squat')">Log Progress</button>
                        </div>
                    </div>
                    <div class="available-challenges">
                        <h4>Available Challenges</h4>
                        <div class="challenge-card available">
                            <h4>üèÉ‚Äç‚ôÇÔ∏è 5K Running Challenge</h4>
                            <p>Complete a 5K run in under 25 minutes</p>
                            <button class="action-button secondary" onclick="joinChallenge('5k-run')">Join Challenge</button>
                        </div>
                    </div>
                </div>
                
                <!-- Leaderboard View -->
                <div id="leaderboardView" class="content-view hidden">
                    <h3>Leaderboard</h3>
                    <div class="leaderboard-filters">
                        <button class="filter-btn active" onclick="filterLeaderboard('overall')">Overall</button>
                        <button class="filter-btn" onclick="filterLeaderboard('monthly')">Monthly</button>
                        <button class="filter-btn" onclick="filterLeaderboard('weekly')">Weekly</button>
                    </div>
                    <div class="leaderboard-list">
                        <div class="leaderboard-item">
                            <div class="rank gold">1</div>
                            <img src="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23fbbf24'%3e%3cpath d='M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 7C14.5 7 14 7.2 13.6 7.6L12 9.2L10.4 7.6C10 7.2 9.5 7 9 7L3 7V9L8.8 9L12 12.2L15.2 9H21Z'/%3e%3c/svg%3e" class="user-avatar" alt="Avatar">
                            <div class="user-info">
                                <div class="username">Mike Johnson</div>
                                <div class="user-stats">2,450 points ‚Ä¢ 45 PRs</div>
                            </div>
                            <div class="crown">üëë</div>
                        </div>
                        <div class="leaderboard-item">
                            <div class="rank silver">2</div>
                            <img src="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23e5e7eb'%3e%3cpath d='M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 7C14.5 7 14 7.2 13.6 7.6L12 9.2L10.4 7.6C10 7.2 9.5 7 9 7L3 7V9L8.8 9L12 12.2L15.2 9H21Z'/%3e%3c/svg%3e" class="user-avatar" alt="Avatar">
                            <div class="user-info">
                                <div class="username">Sarah Wilson</div>
                                <div class="user-stats">2,120 points ‚Ä¢ 38 PRs</div>
                            </div>
                        </div>
                        <div class="leaderboard-item">
                            <div class="rank bronze">3</div>
                            <img src="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23f97316'%3e%3cpath d='M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 7C14.5 7 14 7.2 13.6 7.6L12 9.2L10.4 7.6C10 7.2 9.5 7 9 7L3 7V9L8.8 9L12 12.2L15.2 9H21Z'/%3e%3c/svg%3e" class="user-avatar" alt="Avatar">
                            <div class="user-info">
                                <div class="username">You</div>
                                <div class="user-stats">1,890 points ‚Ä¢ 32 PRs</div>
                            </div>
                        </div>
                        <div class="leaderboard-item">
                            <div class="rank">4</div>
                            <img src="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23e2e8f0'%3e%3cpath d='M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 7C14.5 7 14 7.2 13.6 7.6L12 9.2L10.4 7.6C10 7.2 9.5 7 9 7L3 7V9L8.8 9L12 12.2L15.2 9H21Z'/%3e%3c/svg%3e" class="user-avatar" alt="Avatar">
                            <div class="user-info">
                                <div class="username">David Lee</div>
                                <div class="user-stats">1,650 points ‚Ä¢ 28 PRs</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Owner Dashboard -->
        <div id="ownerDashboard" class="view dashboard hidden">
            <div class="app-header">
                <button class="menu-button" onclick="toggleOwnerSideMenu()">‚ò∞</button>
                <h3 id="ownerName">Gym Owner</h3>
                <div class="today-date">Dashboard Overview</div>
            </div>
            
            <!-- Owner Side Menu -->
            <div id="ownerSideMenu" class="side-menu hidden">
                <div class="menu-header">
                    <h4>GymEZ Owner</h4>
                    <button class="close-menu" onclick="toggleOwnerSideMenu()">‚úï</button>
                </div>
                <div class="menu-items">
                    <div class="menu-item active" onclick="showOwnerHomeView()">Dashboard</div>
                    <div class="menu-item" onclick="showMembersView()">Members</div>
                    <div class="menu-item" onclick="showPRApprovals()">PR Approvals</div>
                    <div class="menu-item" onclick="showVideoReviews()">Video Reviews</div>
                    <div class="menu-item" onclick="showRevenueView()">Revenue</div>
                    <div class="menu-item" onclick="showOwnerSettingsView()">Settings</div>
                </div>
            </div>
            
            <div class="main-content">
                <div id="ownerHomeView" class="content-view">
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-number">48</div>
                            <div class="stat-label">Active Members</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">5</div>
                            <div class="stat-label">Pending PRs</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">3</div>
                            <div class="stat-label">Pending Videos</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">‚Çπ2,40,000</div>
                            <div class="stat-label">Monthly Revenue</div>
                        </div>
                    </div>
                    
                    <div class="quick-actions">
                        <div class="action-item" onclick="showPRApprovals()">
                            <div class="action-text">Review PRs</div>
                        </div>
                        <div class="action-item" onclick="showVideoReviews()">
                            <div class="action-text">Review Videos</div>
                        </div>
                    </div>
                </div>
                
                <!-- PR Approvals View -->
                <div id="prApprovalsView" class="content-view hidden">
                    <h5>Pending PR Approvals</h5>
                    <div id="pendingPRApprovals">
                        <div class="approval-item">
                            <div class="approval-info">
                                <div class="member-name">John Doe</div>
                                <div class="pr-claim">Bench Press: 85 kg (Previous: 80 kg)</div>
                                <div class="submission-time">Submitted 2 hours ago</div>
                            </div>
                            <div class="approval-actions">
                                <button class="approve-btn" onclick="approvePR('pr1')">Approve</button>
                                <button class="reject-btn" onclick="rejectPR('pr1')">Reject</button>
                            </div>
                        </div>
                        
                        <div class="approval-item">
                            <div class="approval-info">
                                <div class="member-name">Sarah Smith</div>
                                <div class="pr-claim">Deadlift: 125 kg (Previous: 120 kg)</div>
                                <div class="submission-time">Submitted 4 hours ago</div>
                            </div>
                            <div class="approval-actions">
                                <button class="approve-btn" onclick="approvePR('pr2')">Approve</button>
                                <button class="reject-btn" onclick="rejectPR('pr2')">Reject</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- PR Dashboard View -->
        <div id="prDashboard" class="view hidden">
            <div class="app-header">
                <button class="back-button" onclick="showMemberDashboard()">‚Üê Back</button>
                <h3>Personal Records</h3>
            </div>
            
            <div class="main-content">
                <!-- Pending PRs Section -->
                <div id="pendingPRs" class="pr-section">
                    <h5>Pending Approval</h5>
                    <div id="pendingPRList">
                        <!-- Will be populated by JavaScript -->
                    </div>
                </div>
                
                <!-- Approved PRs Section -->
                <div class="pr-section">
                    <h5>Your Records</h5>
                    <div id="prList">
                        <div class="pr-item" onclick="updatePR('Bench Press', '80 kg')">
                            <div class="pr-info">
                                <div class="pr-exercise">Bench Press</div>
                                <div class="pr-status">Approved</div>
                            </div>
                            <div class="pr-details">
                                <div class="pr-weight">80 kg</div>
                                <div class="pr-date">Oct 20, 2025</div>
                            </div>
                        </div>
                        
                        <div class="pr-item" onclick="updatePR('Squat', '100 kg')">
                            <div class="pr-info">
                                <div class="pr-exercise">Squat</div>
                                <div class="pr-status">Approved</div>
                            </div>
                            <div class="pr-details">
                                <div class="pr-weight">100 kg</div>
                                <div class="pr-date">Oct 18, 2025</div>
                            </div>
                        </div>
                        
                        <div class="pr-item" onclick="updatePR('Deadlift', '120 kg')">
                            <div class="pr-info">
                                <div class="pr-exercise">Deadlift</div>
                                <div class="pr-status">Approved</div>
                            </div>
                            <div class="pr-details">
                                <div class="pr-weight">120 kg</div>
                                <div class="pr-date">Oct 15, 2025</div>
                            </div>
                        </div>
                        
                        <div class="pr-item" onclick="updatePR('Overhead Press', 'Add weight')">
                            <div class="pr-info">
                                <div class="pr-exercise">Overhead Press</div>
                                <div class="pr-status">No record yet</div>
                            </div>
                            <div class="pr-details">
                                <div class="pr-weight">-</div>
                                <div class="pr-date">-</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Profile View -->
        <div id="profileView" class="view dashboard hidden">
            <div class="simple-header">
                <h3>Profile</h3>
            </div>
            <div class="main-content">
                <div class="profile-card">
                    <div class="profile-info">
                        <div class="profile-name" id="profileName">User Name</div>
                        <div class="profile-email" id="profileEmail">user@example.com</div>
                        <div class="profile-gym" id="profileGym">Gym Member</div>
                    </div>
                </div>
                
                <div class="profile-actions">
                    <div class="action-item" onclick="alert('Edit Profile')">
                        <div class="action-text">Edit Profile</div>
                    </div>
                    <div class="action-item" onclick="alert('Settings')">
                        <div class="action-text">Settings</div>
                    </div>
                    <div class="action-item" onclick="logout()" style="border-color: #ef4444;">
                        <div class="action-text" style="color: #ef4444;">Sign Out</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Video Reviews View -->
        <div id="videoReviews" class="view hidden">
            <div class="dashboard-header">
                <h2 class="welcome-title">Video Reviews</h2>
                <p class="welcome-subtitle">Review member workout submissions</p>
            </div>
            
            <div class="content-section">
                <div class="section-title">Pending Reviews</div>
                
                <div id="pendingVideosList">
                    <div class="video-item">
                        <div class="video-header">
                            <div class="video-title">Bench Press Form Check</div>
                            <div class="status-badge status-pending">Pending</div>
                        </div>
                        <div class="video-member">By: John Doe</div>
                        <div style="margin-top: 12px;">
                            <button class="action-button" style="margin-right: 8px; width: 48%;" onclick="approveVideo('video1')">Approve</button>
                            <button class="action-button" style="background: #dc2626; width: 48%;" onclick="rejectVideo('video1')">Reject</button>
                        </div>
                    </div>
                    
                    <div class="video-item">
                        <div class="video-header">
                            <div class="video-title">Squat Technique</div>
                            <div class="status-badge status-pending">Pending</div>
                        </div>
                        <div class="video-member">By: Sarah Smith</div>
                        <div style="margin-top: 12px;">
                            <button class="action-button" style="margin-right: 8px; width: 48%;" onclick="approveVideo('video2')">Approve</button>
                            <button class="action-button" style="background: #dc2626; width: 48%;" onclick="rejectVideo('video2')">Reject</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Menu Overlay -->
        <div id="menuOverlay" class="menu-overlay" onclick="closeSideMenu()"></div>
        
        <!-- Camera Modal -->
        <div id="cameraModal" class="camera-modal hidden">
            <div class="camera-container">
                <div class="camera-header">
                    <button class="camera-switch" onclick="switchCamera()">üîÑ</button>
                    <h3>üìπ Record Your PR</h3>
                    <button class="close-camera" onclick="closeCameraModal()">‚úï</button>
                </div>
                <div class="camera-content">
                    <video id="cameraPreview" autoplay playsinline muted></video>
                    <canvas id="cameraCanvas" style="display: none;"></canvas>
                </div>
                <div class="camera-controls">
                    <div class="exercise-selector">
                        <select id="exerciseSelect">
                            <option value="">Select Exercise</option>
                            <option value="squat">Squat</option>
                            <option value="deadlift">Deadlift</option>
                            <option value="bench-press">Bench Press</option>
                            <option value="pull-up">Pull-up</option>
                            <option value="overhead-press">Overhead Press</option>
                            <option value="row">Barbell Row</option>
                        </select>
                    </div>
                    <div class="weight-input">
                        <input type="number" id="weightInput" placeholder="Weight (lbs)">
                    </div>
                    <div class="recording-controls">
                        <button id="startRecording" class="record-button" onclick="startRecording()">
                            üé¨ Start Recording
                        </button>
                        <button id="stopRecording" class="record-button stop-button hidden" onclick="stopRecording()">
                            ‚èπÔ∏è Stop Recording
                        </button>
                    </div>
                    <div class="timer-display hidden" id="recordingTimer">
                        ‚è±Ô∏è <span id="timerText">00:00</span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- No bottom navigation needed - using side menu -->
    </div>

    <script>
        // App State
        let currentUser = null;
        let isSignUp = false;
        let selectedUserType = 'member';
        let gymList = [];

        // Sample gym data
        const sampleGyms = [
            // India
            {
                id: 1,
                name: "FitZone Gym",
                address: "123 Main Street, Mumbai",
                pincode: "400001",
                country: "IN",
                memberCount: 250,
                cost: "‚Çπ2000/month",
                facilities: ["Cardio", "Weights", "Pool"]
            },
            {
                id: 2,
                name: "PowerHouse Fitness",
                address: "456 Park Avenue, Mumbai",
                pincode: "400001",
                country: "IN",
                memberCount: 180,
                cost: "‚Çπ1800/month",
                facilities: ["Weights", "CrossFit", "Yoga"]
            },
            // US
            {
                id: 3,
                name: "Gold's Gym",
                address: "123 Broadway, New York",
                pincode: "10001",
                country: "US",
                memberCount: 420,
                cost: "$89/month",
                facilities: ["Cardio", "Weights", "Classes"]
            },
            {
                id: 4,
                name: "Planet Fitness",
                address: "456 5th Avenue, New York",
                pincode: "10001",
                country: "US",
                memberCount: 650,
                cost: "$15/month",
                facilities: ["Cardio", "Weights", "Pizza Monday"]
            },
            // UK
            {
                id: 5,
                name: "Pure Gym",
                address: "123 Oxford Street, London",
                pincode: "W1C",
                country: "UK",
                memberCount: 380,
                cost: "¬£25/month",
                facilities: ["Cardio", "Weights", "Classes"]
            }
        ];

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            // Ensure bottom nav is hidden on startup
            document.getElementById('bottomNav').classList.add('hidden');
            showView('loginScreen');
        });

        // View Management
        function showView(viewId) {
            document.querySelectorAll('.view').forEach(view => {
                view.classList.add('hidden');
            });
            document.getElementById(viewId).classList.remove('hidden');
            
            // Close any open menus when switching views
            closeSideMenu();
        }

        // Authentication
        function selectUserType(type) {
            selectedUserType = type;
            document.getElementById('memberBtn').classList.remove('selected');
            document.getElementById('ownerBtn').classList.remove('selected');
            
            if (type === 'member') {
                document.getElementById('memberBtn').classList.add('selected');
            } else {
                document.getElementById('ownerBtn').classList.add('selected');
            }
        }

        function toggleAuthMode() {
            isSignUp = !isSignUp;
            const signupFields = document.getElementById('signupFields');
            const confirmPassword = document.getElementById('confirmPassword');
            const authButton = document.getElementById('authButton');
            const toggleText = document.getElementById('toggleText');
            const loginSubtitle = document.getElementById('loginSubtitle');
            const googleSignIn = document.getElementById('googleSignInContainer');
            
            if (isSignUp) {
                signupFields.classList.remove('hidden');
                confirmPassword.classList.remove('hidden');
                googleSignIn.classList.add('hidden');
                authButton.textContent = 'Sign Up';
                toggleText.textContent = 'Already have an account? Log In';
                loginSubtitle.textContent = 'Join the Fitness Community';
                selectUserType('member'); // Default selection
            } else {
                signupFields.classList.add('hidden');
                confirmPassword.classList.add('hidden');
                googleSignIn.classList.remove('hidden');
                authButton.textContent = 'Log In';
                toggleText.textContent = "Don't have an account? Sign Up";
                loginSubtitle.textContent = 'Welcome Back';
            }
        }

        function handleAuth() {
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            
            if (!email || !password) {
                alert('Please fill in all required fields');
                return;
            }
            
            if (isSignUp) {
                const fullName = document.getElementById('fullName').value;
                const country = document.getElementById('country').value;
                const confirmPassword = document.getElementById('confirmPassword').value;
                
                if (!fullName) {
                    alert('Please enter your full name');
                    return;
                }
                
                if (!country) {
                    alert('Please select your country');
                    return;
                }
                
                if (password !== confirmPassword) {
                    alert('Passwords do not match');
                    return;
                }
                
                // For gym members, show gym selection first
                if (selectedUserType === 'member') {
                    currentUser = { email, fullName, userType: selectedUserType, country };
                    showView('gymSelection');
                    return;
                }
            }
            
            // For login (not signup), just proceed directly
            if (!isSignUp) {
                completeAuth(email, 'User'); // Default name for login
                return;
            }
            
            // Complete login/signup
            completeAuth(email, document.getElementById('fullName').value);
        }

        function handleGoogleSignIn() {
            alert('Google Sign In would connect here. For demo, logging in as member.');
            currentUser = {
                email: 'demo@gmail.com',
                fullName: 'Demo User',
                userType: 'member',
                country: 'IN'
            };
            showView('gymSelection');
        }

        function completeAuth(email, fullName) {
            currentUser = {
                email: email,
                fullName: fullName || 'User',
                userType: selectedUserType
            };
            
            if (currentUser.userType === 'owner') {
                showOwnerDashboard();
            } else {
                showMemberDashboard();
            }
        }

        // Gym Selection
        function searchGyms() {
            const pincode = document.getElementById('pincodeInput').value;
            
            if (!pincode) {
                alert('Please enter a pincode/zipcode');
                return;
            }
            
            // Filter gyms by pincode
            gymList = sampleGyms.filter(gym => 
                gym.pincode.toLowerCase().includes(pincode.toLowerCase())
            );
            
            if (gymList.length === 0) {
                alert('No gyms found for this pincode. Showing sample gyms.');
                gymList = sampleGyms.slice(0, 3); // Show first 3 as fallback
            }
            
            renderGyms();
        }

        function renderGyms() {
            const gymsList = document.getElementById('gymsList');
            gymsList.innerHTML = '';
            
            gymList.forEach(gym => {
                const gymCard = document.createElement('div');
                gymCard.className = 'gym-card';
                gymCard.onclick = () => selectGym(gym);
                
                gymCard.innerHTML = `
                    <div class="gym-name">${gym.name}</div>
                    <div class="gym-address">${gym.address}</div>
                    <div class="gym-info">
                        <span class="member-count">${gym.memberCount} members</span>
                        <span class="gym-cost">${gym.cost}</span>
                    </div>
                `;
                
                gymsList.appendChild(gymCard);
            });
        }

        function selectGym(gym) {
            currentUser.gym = gym;
            completeAuth(currentUser.email, currentUser.fullName);
        }

        // Dashboard Functions
        function showMemberDashboard() {
            showView('memberDashboard');
            document.getElementById('memberName').textContent = `Hello, ${currentUser.fullName}`;
            showHomeView();
            closeSideMenu();
        }
        
        // Side Menu Functions
        function toggleSideMenu() {
            const menu = document.getElementById('sideMenu');
            const overlay = document.getElementById('menuOverlay');
            menu.classList.toggle('show');
            overlay.classList.toggle('show');
        }
        
        function toggleOwnerSideMenu() {
            const menu = document.getElementById('ownerSideMenu');
            const overlay = document.getElementById('menuOverlay');
            menu.classList.toggle('show');
            overlay.classList.toggle('show');
        }
        
        function closeSideMenu() {
            document.getElementById('sideMenu')?.classList.remove('show');
            document.getElementById('ownerSideMenu')?.classList.remove('show');
            document.getElementById('menuOverlay').classList.remove('show');
        }
        
        // Content View Functions
        function showHomeView() {
            hideAllContentViews();
            document.getElementById('homeView').classList.remove('hidden');
            updateMenuActive('Home');
        }
        
        function showProgressView() {
            hideAllContentViews();
            document.getElementById('progressView').classList.remove('hidden');
            updateMenuActive('Progress');
            closeSideMenu();
        }
        
        function showSettingsView() {
            hideAllContentViews();
            document.getElementById('settingsView').classList.remove('hidden');
            updateMenuActive('Settings');
            closeSideMenu();
        }
        
        function showSocialView() {
            hideAllContentViews();
            document.getElementById('socialView').classList.remove('hidden');
            updateMenuActive('Social');
            closeSideMenu();
        }
        
        function showWorkoutsView() {
            hideAllContentViews();
            document.getElementById('workoutsView').classList.remove('hidden');
            updateMenuActive('Workouts');
            closeSideMenu();
        }
        
        function showChallengesView() {
            hideAllContentViews();
            document.getElementById('challengesView').classList.remove('hidden');
            updateMenuActive('Challenges');
            closeSideMenu();
        }
        
        function showLeaderboardView() {
            hideAllContentViews();
            document.getElementById('leaderboardView').classList.remove('hidden');
            updateMenuActive('Leaderboard');
            closeSideMenu();
        }
        
        function hideAllContentViews() {
            document.querySelectorAll('.content-view').forEach(view => {
                view.classList.add('hidden');
            });
        }
        
        function updateMenuActive(activeItem) {
            document.querySelectorAll('.menu-item').forEach(item => {
                item.classList.remove('active');
                if (item.textContent.includes(activeItem)) {
                    item.classList.add('active');
                }
            });
        }
        
        // Owner Dashboard Functions
        function showOwnerDashboard() {
            showView('ownerDashboard');
            document.getElementById('ownerName').textContent = `${currentUser.fullName}`;
            showOwnerHomeView();
            closeSideMenu();
        }
        
        function showOwnerHomeView() {
            hideAllContentViews();
            document.getElementById('ownerHomeView').classList.remove('hidden');
            updateMenuActive('Dashboard');
        }
        
        function showPRApprovals() {
            hideAllContentViews();
            document.getElementById('prApprovalsView').classList.remove('hidden');
            updateMenuActive('PR Approvals');
            closeSideMenu();
        }

        function showOwnerDashboard() {
            showView('ownerDashboard');
            document.getElementById('ownerName').textContent = `Welcome, ${currentUser.fullName}!`;
            document.getElementById('ownerNav').classList.remove('hidden');
            document.getElementById('memberNav').classList.add('hidden');
            updateNavActive('ownerNav', 0);
        }

        function showPRDashboard() {
            showView('prDashboard');
            // Initialize pending PRs section as hidden
            const pendingSection = document.getElementById('pendingPRs');
            if (pendingSection && !document.querySelector('#pendingPRList .pr-item')) {
                pendingSection.style.display = 'none';
            }
        }

        function showVideoReviews() {
            hideAllContentViews();
            document.getElementById('videoReviews')?.classList.remove('hidden');
            updateMenuActive('Video Reviews');
            closeSideMenu();
        }

        // PR Functions
        function updatePR(exercise, currentWeight) {
            const newWeight = prompt(`Update your ${exercise} PR:\n\nCurrent: ${currentWeight}\nEnter new weight:`);
            
            if (newWeight && newWeight !== currentWeight) {
                // Add to pending PRs
                const pendingList = document.getElementById('pendingPRList');
                if (!pendingList) return;
                
                const pendingPR = document.createElement('div');
                pendingPR.className = 'pr-item pending';
                pendingPR.innerHTML = `
                    <div class="pr-info">
                        <div class="pr-exercise">${exercise}</div>
                        <div class="pr-status" style="color: #f59e0b;">Pending Approval</div>
                    </div>
                    <div class="pr-details">
                        <div class="pr-weight">${newWeight}</div>
                        <div class="pr-date">Just now</div>
                    </div>
                `;
                
                pendingList.appendChild(pendingPR);
                
                // Show pending section
                document.getElementById('pendingPRs').style.display = 'block';
                
                alert('PR submitted for approval! Your gym owner will review it shortly.');
            }
        }
        
        function approvePR(prId) {
            alert('PR approved! Member will be notified.');
            // In real app, would update database and notify member
        }
        
        function rejectPR(prId) {
            const reason = prompt('Reason for rejection (optional):');
            alert('PR rejected. Member will be notified.');
            // In real app, would update database and notify member
        }
        
        // Settings Functions
        function editProfile() {
            alert('Edit Profile - would open profile editing form');
        }
        
        function changePassword() {
            alert('Change Password - would open password change form');
        }
        
        function toggleNotifications() {
            alert('Notification settings toggled');
        }
        
        function setUnits() {
            const units = prompt('Choose units:\n1. Metric (kg/cm)\n2. Imperial (lbs/ft)\n\nEnter 1 or 2:');
            if (units === '1' || units === '2') {
                alert('Units preference saved');
            }
        }
        
        function setRestTime() {
            const time = prompt('Default rest time between sets (seconds):');
            if (time && !isNaN(time)) {
                alert(`Rest time set to ${time} seconds`);
            }
        }
        
        function privacySettings() {
            alert('Privacy Settings - would open privacy controls');
        }
        
        function dataExport() {
            alert('Data Export - would generate and download user data');
        }
        
        function contactSupport() {
            alert('Contact Support - would open support chat or email form');
        }
        
        function reportBug() {
            alert('Report Bug - would open bug report form');
        }
        
        function deleteAccount() {
            const confirm = prompt('Type "DELETE" to confirm account deletion:');
            if (confirm === 'DELETE') {
                alert('Account deletion initiated. You will receive a confirmation email.');
            }
        }

        function approveVideo(videoId) {
            alert('Video approved! Member will be notified.');
            // Update pending count
            const pendingCount = document.getElementById('pendingVideos');
            pendingCount.textContent = Math.max(0, parseInt(pendingCount.textContent) - 1);
        }

        function rejectVideo(videoId) {
            const reason = prompt('Enter rejection reason (optional):');
            alert('Video rejected. Member will be notified.');
            // Update pending count
            const pendingCount = document.getElementById('pendingVideos');
            pendingCount.textContent = Math.max(0, parseInt(pendingCount.textContent) - 1);
        }

        // Placeholder functions
        function showWorkoutBuilder() { alert('Opening Workout Builder...'); }
        function showWorkoutTimer() { alert('Starting Workout Timer...'); }
        function showRecordVideo() {
            console.log('Record video clicked!');
            
            // Test if basic functionality works
            if (confirm('üé¨ Ready to record your PR?\n\nThis will open the camera interface.\n\nClick OK to continue!')) {
                openCameraModal();
            }
        }
        function showSocialFeed() { alert('Opening Social Feed...'); }
        function showChallenges() { alert('Opening Challenges...'); }
        function showMembers() { alert('Opening Member Management...'); }
        function showRevenueTracking() { alert('Opening Revenue Tracking...'); }
        function showReports() { alert('Opening Reports...'); }

        function logout() {
            currentUser = null;
            showView('loginScreen');
            // Reset form
            document.getElementById('email').value = '';
            document.getElementById('password').value = '';
            document.getElementById('fullName').value = '';
            if (isSignUp) toggleAuthMode();
        }

        // Social Feed Functions
        function createPost() {
            const content = document.getElementById('postContent').value.trim();
            if (!content) return;
            
            const feed = document.getElementById('socialFeed');
            const postHTML = `
                <div class="social-post">
                    <div class="post-header">
                        <img src="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%233b82f6'%3e%3cpath d='M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 7C14.5 7 14 7.2 13.6 7.6L12 9.2L10.4 7.6C10 7.2 9.5 7 9 7L3 7V9L8.8 9L12 12.2L15.2 9H21Z'/%3e%3c/svg%3e" class="user-avatar" alt="Avatar">
                        <div class="post-info">
                            <div class="username">You</div>
                            <div class="post-time">Just now</div>
                        </div>
                    </div>
                    <p>${content}</p>
                    <div class="post-actions">
                        <button class="post-action" onclick="likePost(this)">‚ù§Ô∏è 0</button>
                        <button class="post-action" onclick="commentPost(this)">üí¨ 0</button>
                    </div>
                </div>
            `;
            feed.insertAdjacentHTML('afterbegin', postHTML);
            document.getElementById('postContent').value = '';
        }
        
        function likePost(button) {
            const currentText = button.textContent;
            const likes = parseInt(currentText.split(' ')[1]) + 1;
            button.textContent = `‚ù§Ô∏è ${likes}`;
            button.style.color = '#ef4444';
        }
        
        function commentPost(button) {
            alert('Comment feature coming soon!');
        }
        
        // Workout Functions
        function filterWorkouts(type) {
            document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            // Filter logic would go here in a real app
        }
        
        function startWorkout(workoutType) {
            alert(`Starting ${workoutType} workout! Timer feature would activate here.`);
        }
        
        // Challenge Functions
        function logChallenge(challengeType) {
            alert(`Progress logged for ${challengeType} challenge! Great work! üí™`);
        }
        
        function joinChallenge(challengeType) {
            alert(`Joined ${challengeType} challenge! Check your challenges tab to track progress.`);
        }
        
        // Leaderboard Functions
        function filterLeaderboard(period) {
            document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            // Filter logic would go here in a real app
        }
        
        // Logout function
        function logout() {
            currentUser = null;
            showView('loginScreen');
            document.getElementById('sideMenu').classList.remove('show');
            document.getElementById('menuOverlay').classList.remove('show');
        }
        
        // Close side menu function
        function closeSideMenu() {
            document.getElementById('sideMenu').classList.remove('show');
            document.getElementById('menuOverlay').classList.remove('show');
        }
        
        // Camera functionality
        let mediaRecorder;
        let recordedChunks = [];
        let stream;
        let recordingTimer;
        let recordingStartTime;
        
        async function openCameraModal() {
            document.getElementById('cameraModal').classList.remove('hidden');
            
            // Check if camera is supported
            if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {
                alert('üö´ Camera not supported on this device/browser.\n\nFor now, you can:\n‚Ä¢ Take a video manually\n‚Ä¢ Upload it later via the app\n\nCamera will work in the native app!');
                closeCameraModal();
                return;
            }
            
            try {
                // Request camera access with simpler constraints
                stream = await navigator.mediaDevices.getUserMedia({
                    video: {
                        facingMode: 'environment' // Back camera for better PR recording
                    },
                    audio: false // Disable audio for privacy
                });
                
                const video = document.getElementById('cameraPreview');
                video.srcObject = stream;
                
            } catch (error) {
                console.error('Error accessing camera:', error);
                alert('üì± Camera Permission Required!\n\n1. Tap the camera icon in your browser\n2. Allow camera access\n3. Try "Record Form" again\n\nNote: Camera works best in Chrome/Safari');
                closeCameraModal();
            }
        }
        
        function closeCameraModal() {
            document.getElementById('cameraModal').classList.add('hidden');
            
            // Stop camera stream
            if (stream) {
                stream.getTracks().forEach(track => track.stop());
                stream = null;
            }
            
            // Reset UI
            resetRecordingUI();
        }
        
        async function startRecording() {
            const exerciseSelect = document.getElementById('exerciseSelect');
            const weightInput = document.getElementById('weightInput');
            
            if (!exerciseSelect.value) {
                alert('Please select an exercise first!');
                return;
            }
            
            if (!weightInput.value) {
                alert('Please enter the weight!');
                return;
            }
            
            // Check if MediaRecorder is supported
            if (!window.MediaRecorder) {
                // Fallback for browsers without MediaRecorder
                alert('üé¨ Recording Started!\n\nUse your phone\'s camera app to record your PR, then:\n1. Save the video to your phone\n2. Upload it later via the full app\n\nThis demo shows the interface - full recording works in the native app!');
                simulateRecording(exerciseSelect.value, weightInput.value);
                return;
            }
            
            try {
                recordedChunks = [];
                
                // Try different MIME types for compatibility
                let mimeType = 'video/webm';
                if (!MediaRecorder.isTypeSupported('video/webm;codecs=vp9')) {
                    if (MediaRecorder.isTypeSupported('video/webm;codecs=vp8')) {
                        mimeType = 'video/webm;codecs=vp8';
                    } else if (MediaRecorder.isTypeSupported('video/mp4')) {
                        mimeType = 'video/mp4';
                    }
                }
                
                mediaRecorder = new MediaRecorder(stream, { mimeType });
                
                mediaRecorder.ondataavailable = (event) => {
                    if (event.data.size > 0) {
                        recordedChunks.push(event.data);
                    }
                };
                
                mediaRecorder.onstop = () => {
                    const blob = new Blob(recordedChunks, { type: mimeType });
                    handleRecordingComplete(blob, exerciseSelect.value, weightInput.value);
                };
                
                mediaRecorder.start();
                startRecordingUI();
                
            } catch (error) {
                console.error('Error starting recording:', error);
                alert('üì± Recording issue - this is a browser demo.\n\nFor full camera recording:\n‚Ä¢ Use the native React Native app\n‚Ä¢ Or record manually with your camera app');
                simulateRecording(exerciseSelect.value, weightInput.value);
            }
        }
        
        function simulateRecording(exercise, weight) {
            startRecordingUI();
            setTimeout(() => {
                stopRecordingUI();
                alert(`‚úÖ PR Logged Successfully!\n\nExercise: ${exercise.replace('-', ' ').toUpperCase()}\nWeight: ${weight} lbs\n\nIn the full app, this would save a real video recording!`);
                addRecentPRActivity(exercise, weight);
                closeCameraModal();
            }, 3000);
        }
        
        function stopRecording() {
            if (mediaRecorder && mediaRecorder.state === 'recording') {
                mediaRecorder.stop();
            }
            stopRecordingUI();
        }
        
        function startRecordingUI() {
            document.getElementById('startRecording').classList.add('hidden');
            document.getElementById('stopRecording').classList.remove('hidden');
            document.getElementById('recordingTimer').classList.remove('hidden');
            
            recordingStartTime = Date.now();
            recordingTimer = setInterval(updateRecordingTimer, 1000);
        }
        
        function stopRecordingUI() {
            document.getElementById('startRecording').classList.remove('hidden');
            document.getElementById('stopRecording').classList.add('hidden');
            document.getElementById('recordingTimer').classList.add('hidden');
            
            if (recordingTimer) {
                clearInterval(recordingTimer);
            }
        }
        
        function resetRecordingUI() {
            stopRecordingUI();
            document.getElementById('exerciseSelect').value = '';
            document.getElementById('weightInput').value = '';
            document.getElementById('timerText').textContent = '00:00';
        }
        
        function updateRecordingTimer() {
            const elapsed = Math.floor((Date.now() - recordingStartTime) / 1000);
            const minutes = Math.floor(elapsed / 60);
            const seconds = elapsed % 60;
            document.getElementById('timerText').textContent = 
                `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }
        
        function handleRecordingComplete(videoBlob, exercise, weight) {
            // Create a download link for the recorded video
            const url = URL.createObjectURL(videoBlob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `PR_${exercise}_${weight}lbs_${new Date().toISOString().slice(0, 10)}.webm`;
            
            // Show success message
            alert(`üéâ PR Video Recorded Successfully!\n\nExercise: ${exercise.replace('-', ' ').toUpperCase()}\nWeight: ${weight} lbs\n\nVideo saved to your device!`);
            
            // Trigger download
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            // Close modal
            closeCameraModal();
            
            // Add to recent activity (simulation)
            addRecentPRActivity(exercise, weight);
        }
        
        function addRecentPRActivity(exercise, weight) {
            // This would normally save to a database
            console.log(`New PR recorded: ${exercise} - ${weight} lbs`);
            
            // Could add to the recent activity display here
            const activitySection = document.querySelector('.activity-section');
            if (activitySection) {
                const newActivity = document.createElement('div');
                newActivity.className = 'activity-item';
                newActivity.innerHTML = `
                    <div class="activity-details">
                        <div class="activity-name">üé• PR Video: ${exercise.replace('-', ' ').toUpperCase()}</div>
                        <div class="activity-time">Just now ‚Ä¢ ${weight} lbs</div>
                    </div>
                `;
                activitySection.appendChild(newActivity);
            }
        }
        
        // Switch camera (front/back) - bonus feature
        async function switchCamera() {
            if (!stream) return;
            
            const videoTrack = stream.getVideoTracks()[0];
            const currentFacingMode = videoTrack.getSettings().facingMode;
            const newFacingMode = currentFacingMode === 'user' ? 'environment' : 'user';
            
            try {
                stream.getTracks().forEach(track => track.stop());
                stream = await navigator.mediaDevices.getUserMedia({
                    video: { 
                        facingMode: newFacingMode,
                        width: { ideal: 1280 },
                        height: { ideal: 720 }
                    },
                    audio: true
                });
                
                const video = document.getElementById('cameraPreview');
                video.srcObject = stream;
                
            } catch (error) {
                console.error('Error switching camera:', error);
            }
        }
        
        // Simulate live data updates
        setInterval(() => {
            if (currentUser && Math.random() > 0.98) {
                const workoutCount = document.getElementById('workoutCount');
                if (workoutCount) {
                    workoutCount.textContent = parseInt(workoutCount.textContent) + 1;
                }
            }
        }, 10000);
    </script>
</body>
</html>